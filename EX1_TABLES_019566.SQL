--TABLES--

--STATES--
CREATE TABLE EX1_019566.STATES
(
  STATE_ID    NUMBER                            NOT NULL,
  STATE_NAME  VARCHAR2(100),
  COUNTRY     VARCHAR2(100)
);


ALTER TABLE EX1_019566.STATES ADD (
  CONSTRAINT STATES_PK
  PRIMARY KEY
  (STATE_ID)
  ENABLE VALIDATE);

--CITIES--
CREATE TABLE EX1_019566.CITIES
(
  CITY_ID    NUMBER                             NOT NULL,
  CITY_NAME  VARCHAR2(100),
  STATE_ID   NUMBER
);


ALTER TABLE EX1_019566.CITIES ADD (
  CONSTRAINT CITIES_PK
  PRIMARY KEY
  (CITY_ID)
  ENABLE VALIDATE);

--CULTURES--
CREATE TABLE EX1_019566.CULTURES
(
  CULTURE_ID           NUMBER                   NOT NULL,
  CULTURE_NAME         VARCHAR2(100),
  CULTURE_DESCRIPTION  VARCHAR2(100)
);


ALTER TABLE EX1_019566.CULTURES ADD (
  CONSTRAINT CULTURES_PK
  PRIMARY KEY
  (CULTURE_ID)
  ENABLE VALIDATE);

--ADDRESSES--
CREATE TABLE EX1_019566.ADDRESSES
(
  ADDRESS_ID    NUMBER                          NOT NULL,
  CUSTUMER_ID   NUMBER,
  ADDRESS_TYPE  VARCHAR2(100),
  ADDRESS_LINE  VARCHAR2(250),
  ZIP_CODE      VARCHAR2(100),
  CITY_ID       NUMBER
);


ALTER TABLE EX1_019566.ADDRESSES ADD (
  CONSTRAINT ADDRESSES_PK
  PRIMARY KEY
  (ADDRESS_ID)
  ENABLE VALIDATE);

--CUSTUMERS--
CREATE TABLE EX1_019566.CUSTUMERS
(
  CUSTUMER_ID  NUMBER                           NOT NULL,
  FIRST_NAME   VARCHAR2(200),
  LAST_NAME    VARCHAR2(200),
  COMPANY      VARCHAR2(200),
  EMAIL        VARCHAR2(200)
);


ALTER TABLE EX1_019566.CUSTUMERS ADD (
  CONSTRAINT CUSTUMERS_PK
  PRIMARY KEY
  (CUSTUMER_ID)
  ENABLE VALIDATE);

--BILLING ADDRESSES--
CREATE TABLE EX1_019566.BILLING_ADDRESSES
(
  BILLING_ADDRESS_ID    NUMBER                  NOT NULL,
  CUSTUMER_ID           NUMBER,
  BILLING_ADDRESS_LINE  VARCHAR2(200)
);


ALTER TABLE EX1_019566.BILLING_ADDRESSES ADD (
  CONSTRAINT BILLING_ADDRESSES_PK
  PRIMARY KEY
  (BILLING_ADDRESS_ID)
  ENABLE VALIDATE);

--ORDERS--
CREATE TABLE EX1_019566.ORDERS
(
  ORDER_ID            NUMBER                    NOT NULL,
  ORDER_DATE          DATE,
  SHIPPING            NUMBER(23,2),
  SHIPPING_METHOD     VARCHAR2(100),
  TAX                 NUMBER(23,2),
  SUBTOTAL            NUMBER,
  ADDRESS_ID          NUMBER,
  BILLING_ADDRESS_ID  NUMBER
);


ALTER TABLE EX1_019566.ORDERS ADD (
  CONSTRAINT ORDERS_PK
  PRIMARY KEY
  (ORDER_ID)
  ENABLE VALIDATE);

--PRODUCTS--
CREATE TABLE EX1_019566.PRODUCTS
(
  PRODUCT_ID        NUMBER                      NOT NULL,
  PRODUCT_NAME      VARCHAR2(200),
  PRDUCT_COLOR      VARCHAR2(100),
  LIST_PRICE        NUMBER(23,2),
  PRODUCT_SIZE      NUMBER(23,2),
  PRODUCT_WEIGHT    NUMBER(23,2),
  PRODUCT_CATEGORY  VARCHAR2(200),
  CULTURE_ID        NUMBER
);


ALTER TABLE EX1_019566.PRODUCTS ADD (
  CONSTRAINT PRODUCTS_PK
  PRIMARY KEY
  (PRODUCT_ID)
  ENABLE VALIDATE);

--ORDERS_PRODUCTS--
CREATE TABLE EX1_019566.ORDERS_PRODUCTS
(
  ORDER_PRODUCST_ID    NUMBER                   NOT NULL,
  PRODUCT_ID           NUMBER,
  ORDER_ID             NUMBER,
  QUANTITY             NUMBER,
  UNIT_PRICE           NUMBER(23,2),
  UNIT_PRICE_DISCOUNT  NUMBER(23,2)
);


ALTER TABLE EX1_019566.ORDERS_PRODUCTS ADD (
  CONSTRAINT ORDERS_PRODUCTS_PK
  PRIMARY KEY
  (ORDER_PRODUCST_ID)
  ENABLE VALIDATE);

--CONSTRAINTS--

ALTER TABLE EX1_019566.CULTURES ADD (
  CONSTRAINT CULTURES_PK
  PRIMARY KEY
  (CULTURE_ID)
  USING INDEX EX1_019566.CULTURES_PK
  ENABLE VALIDATE);

ALTER TABLE EX1_019566.CUSTUMERS ADD (
  CONSTRAINT CUSTUMERS_PK
  PRIMARY KEY
  (CUSTUMER_ID)
  USING INDEX EX1_019566.CUSTUMERS_PK
  ENABLE VALIDATE);

ALTER TABLE EX1_019566.PRODUCTS ADD (
  CONSTRAINT PRODUCTS_PK
  PRIMARY KEY
  (PRODUCT_ID)
  USING INDEX EX1_019566.PRODUCTS_PK
  ENABLE VALIDATE);

ALTER TABLE EX1_019566.STATES ADD (
  CONSTRAINT STATES_PK
  PRIMARY KEY
  (STATE_ID)
  USING INDEX EX1_019566.STATES_PK
  ENABLE VALIDATE);

ALTER TABLE EX1_019566.BILLING_ADDRESSES ADD (
  CONSTRAINT BILLING_ADDRESSES_PK
  PRIMARY KEY
  (BILLING_ADDRESS_ID)
  USING INDEX EX1_019566.BILLING_ADDRESSES_PK
  ENABLE VALIDATE);

ALTER TABLE EX1_019566.CITIES ADD (
  CONSTRAINT CITIES_PK
  PRIMARY KEY
  (CITY_ID)
  USING INDEX EX1_019566.CITIES_PK
  ENABLE VALIDATE);

ALTER TABLE EX1_019566.ADDRESSES ADD (
  CONSTRAINT ADDRESSES_PK
  PRIMARY KEY
  (ADDRESS_ID)
  USING INDEX EX1_019566.ADDRESSES_PK
  ENABLE VALIDATE);

ALTER TABLE EX1_019566.ORDERS ADD (
  CONSTRAINT ORDERS_PK
  PRIMARY KEY
  (ORDER_ID)
  USING INDEX EX1_019566.ORDERS_PK
  ENABLE VALIDATE);

ALTER TABLE EX1_019566.ORDERS_PRODUCTS ADD (
  CONSTRAINT ORDERS_PRODUCTS_PK
  PRIMARY KEY
  (ORDER_PRODUCST_ID)
  USING INDEX EX1_019566.ORDERS_PRODUCTS_PK
  ENABLE VALIDATE);

ALTER TABLE EX1_019566.PRODUCTS ADD (
  CONSTRAINT PRODUCTS_R01 
  FOREIGN KEY (CULTURE_ID) 
  REFERENCES [EX1_019566.CITIES](CULTURE_ID)
  ENABLE VALIDATE);

ALTER TABLE EX1_019566.BILLING_ADDRESSES ADD (
  CONSTRAINT BILLING_ADDRESSES_R01 
  FOREIGN KEY (CUSTUMER_ID) 
  REFERENCES [EX1_019566.CUSTUMERS]CUSTUMER_ID
  ENABLE VALIDATE);

ALTER TABLE EX1_019566.CITIES ADD (
  CONSTRAINT CITIES_R01 
  FOREIGN KEY (STATE_ID) 
  REFERENCES [EX1_019566.STATES](STATE_ID)
  ENABLE VALIDATE);

ALTER TABLE EX1_019566.ADDRESSES ADD (
  CONSTRAINT ADDRESSES_R01 
  FOREIGN KEY (CITY_ID) 
  REFERENCES [EX1_019566.CITIES](CITY_ID)
  ENABLE VALIDATE,
  CONSTRAINT ADDRESSES_R02 
  FOREIGN KEY (CUSTUMER_ID) 
  REFERENCES [EX1_019566.CUSTUMERS](CUTUMER_ID)
  ENABLE VALIDATE);

ALTER TABLE EX1_019566.ORDERS ADD (
  CONSTRAINT ORDERS_R01 
  FOREIGN KEY (ADDRESS_ID) 
  REFERENCES [EX1_019566.ADDRESSES](ADDRESS_ID)
  ENABLE VALIDATE,
  CONSTRAINT ORDERS_R02 
  FOREIGN KEY (BILLING_ADDRESS_ID) 
  REFERENCES [EX1_019566.BILLING_ADDRESSES](BILLING_ADDRESS_ID)
  ENABLE VALIDATE);

ALTER TABLE EX1_019566.ORDERS_PRODUCTS ADD (
  CONSTRAINT ORDERS_PRODUCTS_R01 
  FOREIGN KEY (PRODUCT_ID) 
  REFERENCES [EX1_019566.PRODUCTS](PRODUCT_ID)
  ENABLE VALIDATE,
  CONSTRAINT ORDERS_PRODUCTS_R02 
  FOREIGN KEY (ORDER_ID) 
  REFERENCES [EX1_019566.ORDERS](ORDER_ID)
  ENABLE VALIDATE);
